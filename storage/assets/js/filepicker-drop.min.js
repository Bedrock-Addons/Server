!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(require("jquery"),require("filepicker")):"function"==typeof define&&define.amd?define(["jquery","filepicker"],o):o(e.jQuery,e.Filepicker)}(this,function(e,o){"use strict";function n(e){e.extend(this,i)}function r(o){return function(n){var r=n.originalEvent&&n.originalEvent.dataTransfer;r&&-1!==e.inArray("Files",r.types)&&this.$f.trigger(o,n)!==!1&&(n.preventDefault(),"dragover"===o&&(r.dropEffect="copy"))}}e="default"in e?e["default"]:e,o="default"in o?o["default"]:o;var i={dropWindow:".drop-window",drop:function(e,o){return e.isDefaultPrevented()?!1:(this.options.dropWindow&&this.options.dropWindow.hide(),void this.onAdd(e,o))},dragover:function(e){return e.isDefaultPrevented()?!1:void this.options.dropWindow.show().addClass("in")},dragleave:function(e){return e.isDefaultPrevented()?!1:void this.options.dropWindow.hide().removeClass("in")}};n.prototype.init=function(){this.options=this.$f.options;var o=this.options;void 0===o.dropZone&&(o.dropZone=e(document)),o.dropWindow instanceof e||(o.dropWindow=this.$f.element.find(o.dropWindow)),this.on(o.dropZone,"dragover",this.onDragOver),this.on(o.dropZone,"dragenter",this.onDragEnter),this.on(o.dropZone,"dragleave",this.onDragLeave),this.on(o.dropZone,"drop",this.onDrop)},n.prototype.onDragOver=r("dragover"),n.prototype.onDragEnter=r("dragenter"),n.prototype.onDragLeave=r("dragleave"),n.prototype.onDrop=function(o){var n=o.originalEvent&&o.originalEvent.dataTransfer;if(n&&n.files&&n.files.length){o.preventDefault();var r={files:e.makeArray(n.files)};this.$f.trigger("drop",o,r)}},o.plugin("drop",n)});